<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.actions.act_window" id="openacademy.action_session_course_kanban">
        <field name="name">openacademy session</field>
        <field name="res_model">openacademy.session</field>
        <field name="view_mode">kanban,tree,form,calendar,pivot,graph</field>
        <field name="context">{ 'search_default_course_id': [active_id],
                                'default_course_id': active_id,
                                'search_default_by_instructor': 1 }</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">Create your first session</p>
        </field>
    </record>

    <record model="ir.ui.view" id="openacademy.course_view_kaban">
      <field name="name">openacademy.course_view_kaban</field>
      <field name="model">openacademy.course</field>
      <field name="arch" type="xml">
          <kanban class="oe_background_grey o_kanban_dashboard o_project_kanban">
              <field name="name"/>
              <field name="color"/>
              <field name="session_count" />
              <field name="responsible_id" />
              <templates>
                <t t-name="kanban-box">
                  <div t-attf-class="#{kanban_color(record.color.raw_value)}">
                      <div t-attf-class="o_kanban_card_header">
                          <div class="o_kanban_card_header_title">
                              <div class="o_primary"><field name="name"/></div>
                              <div class="o_secondary"><field name="responsible_id"/></div>
                          </div>
                          <div class="o_kanban_manage_button_section">
                              <a class="o_kanban_manage_toggle_button" href="#"><i class="fa fa-ellipsis-v" role="img" aria-label="Manage" title="Manage"/></a>
                          </div>
                      </div>
                      <div class="container o_kanban_card_content">
                          <div class="row">
                              <div class="col-6 o_kanban_primary_left">
                                  <button class="btn btn-primary" name="%(openacademy.action_session_course_kanban)d" type="action">Sessions</button>
                              </div>
                              <div class="col-6 o_kanban_primary_right">
                              </div>
                          </div>
                      </div><div class="container o_kanban_card_manage_pane dropdown-menu" role="menu">

                          <div t-if="widget.editable" class="o_kanban_card_manage_settings row">
                              <div role="menuitem" aria-haspopup="true" class="col-8">
                                  <ul class="oe_kanban_colorpicker" data-field="color" role="menu"/>
                              </div>
                              <div class="col-4 text-right">
                                  <a role="menuitem" type="edit">Settings</a>
                              </div>
                          </div>
                      </div>

                  </div>
              </t>
              </templates>
          </kanban>
      </field>
  </record>
</odoo>
